<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Rijksmuseum App</title>
    <script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
    <script>
        function startMusicByYearRange(startYear, endYear) {
            var query = "year:" + startYear + "-" + endYear;
            var search = new models.Search(query);
            search.observe(models.EVENT.CHANGE, function() {
                if(search.tracks.length) {
                    // copy tracks to current playlist
                    $.each(search.tracks, function(index, track){
                        currentPlaylist.add(models.Track.fromURI(track.uri));              // Note: artwork is compiled from first few tracks. if any are local it will fail to generate....
                    });
                    // player.context = currentPlaylist;
                    player.track = currentPlaylist.get(0);
                    player.play(search.tracks[0].uri, currentPlaylist, 0);
                }
            });
            search.appendNext();
        }

        $(document).ready(function () {
            sp = getSpotifyApi(1);
            models = sp.require("sp://import/scripts/api/models");
            player = models.player;
            currentPlaylist = new models.Playlist();
            
            // search and play song
            startMusicByYearRange(1900, 1910);
        });
    </script>
</head>
<body>
    <img src="http://www.rijksmuseum.nl/images/aria/sk/org/sk-c-5.org?aria/maxwidth_288" />
</body>
</html>